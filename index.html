<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Soporte de Mega SpeedTraders</title>
<style>
body {
    background:#0f0f0f;
    font-family: Arial, sans-serif;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
}

.chatbox {
    width:360px;
    height:560px;
    background:#1c1c1c;
    border-radius:14px;
    display:flex;
    flex-direction:column;
    overflow:hidden;
}

.header {
    background:linear-gradient(90deg,#6200ea,#7f39fb);
    color:white;
    padding:15px;
    text-align:center;
    font-weight:bold;
}

.messages {
    flex:1;
    padding:12px;
    overflow-y:auto;
    display:flex;
    flex-direction:column;
    gap:8px;
}

.message {
    padding:10px 12px;
    border-radius:10px;
    max-width:85%;
    animation:fadeIn .3s ease-in;
    font-size:14px;
}

.bot { background:#2f2f2f; color:white; align-self:flex-start; }
.user { background:#03dac6; color:black; align-self:flex-end; font-weight:bold; }

.options button {
    background:#6200ea;
    color:white;
    border:none;
    padding:8px 12px;
    border-radius:18px;
    cursor:pointer;
    font-size:13px;
    margin:4px 4px 0 0;
}

.input-area {
    display:flex;
    border-top:1px solid #333;
}

input {
    flex:1;
    padding:10px;
    border:none;
    outline:none;
}

button.send {
    background:#03dac6;
    border:none;
    padding:10px 15px;
    cursor:pointer;
    font-weight:bold;
}

@keyframes fadeIn {
    from {opacity:0; transform:translateY(5px);}
    to {opacity:1; transform:translateY(0);}
}
</style>
</head>
<body>

<div class="chatbox">
    <div class="header">ðŸ¤–âš¡ FLash Trader</div>
    <div class="messages" id="messages"></div>
    <div class="input-area">
        <input type="text" id="input" placeholder="Escribe tu pregunta...">
        <button class="send" onclick="handleText()">Enviar</button>
    </div>
</div>

<script>
const messages = document.getElementById("messages");
const input = document.getElementById("input");

function botMsg(text) {
    const m = document.createElement("div");
    m.className="message bot";
    m.innerHTML=text;
    messages.appendChild(m);
    messages.scrollTop = messages.scrollHeight;
}

function userMsg(text) {
    const m = document.createElement("div");
    m.className="message user";
    m.textContent=text;
    messages.appendChild(m);
    messages.scrollTop = messages.scrollHeight;
}

function showMenu() {
    const box = document.createElement("div");
    box.className="message bot options";
    box.innerHTML=`
        <button onclick="select('precio')">ðŸ’° Precio</button>
        <button onclick="select('horario')">ðŸ•’ Horarios</button>
        <button onclick="select('pago')">ðŸ’³ Pagos</button>
        <button onclick="select('contacto')">ðŸ“ž Contacto</button>
    `;
    messages.appendChild(box);
    messages.scrollTop = messages.scrollHeight;
}

function askMore() {
    const box = document.createElement("div");
    box.className="message bot options";
    box.innerHTML=`
        Â¿Deseas ver las demÃ¡s opciones?<br><br>
        <button onclick="select('si')">SÃ­</button>
        <button onclick="select('no')">No</button>
    `;
    messages.appendChild(box);
    messages.scrollTop = messages.scrollHeight;
}

function respond(type) {
    if(type==="precio") {
        botMsg(`ðŸ’° <b>Precio</b><br><br>
        Precio normal: <b>S/ 400</b><br>
        ðŸ”¥ Oferta actual: <b>S/ 300</b>`);
    }

    if(type==="horario") {
        botMsg(`ðŸ•’ <b>Horarios</b><br><br>
        Martes y jueves: 8:00 â€“ 9:30 am<br>
        SÃ¡bados: 8:00 â€“ 10:00 am<br><br>
        ðŸ“Œ Inicio: <b>20 de enero</b>`);
    }

    if(type==="pago") {
        botMsg(`ðŸ’³ <b>MÃ©todos de pago</b><br><br>
        âœ” Plin<br>âœ” Yape<br>âœ” Transferencia Scotiabank`);
    }

    if(type==="contacto") {
        botMsg(`ðŸ“ž <b>Contacto</b><br><br>
        <a href="https://wa.me/51999113320" target="_blank" style="color:#03dac6;">
        WhatsApp +51 999 113 320</a>`);
    }

    setTimeout(askMore,400);
}

function select(type) {
    userMsg(type.toUpperCase());

    if(type==="si") {
        botMsg("Perfecto ðŸ˜Š AquÃ­ tienes las opciones:");
        setTimeout(showMenu,300);
        return;
    }

    if(type==="no") {
        botMsg("Â¡De acuerdo! Si necesitas algo mÃ¡s, solo escrÃ­beme ðŸ‘‹");
        return;
    }

    respond(type);
}

function handleText() {
    const text = input.value.trim();
    if(!text) return;
    input.value="";
    userMsg(text);

    const t = text.toLowerCase();

    if(t.includes("precio")) return respond("precio");
    if(t.includes("horario")) return respond("horario");
    if(t.includes("pago")) return respond("pago");
    if(t.includes("contacto")) return respond("contacto");

    botMsg("No entendÃ­ tu mensaje ðŸ˜… Puedes usar el menÃº o escribir: precio, horario, pagos o contacto.");
    setTimeout(showMenu,400);
}

input.addEventListener("keypress", e=>{
    if(e.key==="Enter") handleText();
});

// Inicio
setTimeout(()=>{
    botMsg("Â¡Hola! ðŸ‘‹ Soy tu asistente virtual.");
    setTimeout(()=>{
        botMsg("Puedes escribir tu pregunta o elegir una opciÃ³n:");
        showMenu();
    },500);
},400);
</script>

</body>
</html>
